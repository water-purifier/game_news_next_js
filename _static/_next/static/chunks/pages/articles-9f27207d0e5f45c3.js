(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{3454:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(7663)},81:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return n(9009)}])},5834:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5893),o=n(1664),s=n.n(o),i=n(6010);function l(e){return(0,r.jsx)("svg",{viewBox:"0 0 16 16",fill:"none","aria-hidden":"true",...e,children:(0,r.jsx)("path",{d:"M6.75 5.75 9.25 8l-2.5 2.25",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function a(e){let{as:t="div",className:n,children:o}=e;return(0,r.jsx)(t,{className:(0,i.Z)(n,"group relative flex flex-col items-start"),children:o})}a.Link=function(e){let{children:t,...n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute -inset-y-6 -inset-x-4 z-0 scale-95 bg-zinc-50 opacity-0 transition group-hover:scale-100 group-hover:opacity-100 dark:bg-zinc-800/50 sm:-inset-x-6 sm:rounded-2xl"}),(0,r.jsxs)(s(),{...n,children:[(0,r.jsx)("span",{className:"absolute -inset-y-6 -inset-x-4 z-20 sm:-inset-x-6 sm:rounded-2xl"}),(0,r.jsx)("span",{className:"relative z-10",children:t})]})]})},a.Title=function(e){let{as:t="h2",href:n,children:o}=e;return(0,r.jsx)(t,{className:"text-base font-semibold tracking-tight text-zinc-800 dark:text-zinc-100",children:n?(0,r.jsx)(a.Link,{href:n,children:o}):o})},a.Description=function(e){let{children:t}=e;return(0,r.jsx)("p",{className:"relative z-10 mt-2 text-sm text-zinc-600 dark:text-zinc-400",children:t})},a.Cta=function(e){let{children:t}=e;return(0,r.jsxs)("div",{"aria-hidden":"true",className:"relative z-10 mt-4 flex items-center text-sm font-medium text-teal-500",children:[t,(0,r.jsx)(l,{className:"ml-1 h-4 w-4 stroke-current"})]})},a.Eyebrow=function(e){let{as:t="p",decorate:n=!1,className:o,children:s,...l}=e;return(0,r.jsxs)(t,{className:(0,i.Z)(o,"relative z-10 order-first mb-3 flex items-center text-sm text-zinc-400 dark:text-zinc-500",n&&"pl-3.5"),...l,children:[n&&(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center","aria-hidden":"true",children:(0,r.jsx)("span",{className:"h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"})}),s]})}},9659:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(5893),o=n(7527);function s(e){let{title:t,intro:n,children:s}=e;return(0,r.jsxs)(o.W,{className:"mt-16 sm:mt-32",children:[(0,r.jsxs)("header",{className:"max-w-2xl",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-5xl",children:t}),(0,r.jsx)("p",{className:"mt-6 text-base text-zinc-600 dark:text-zinc-400",children:(0,r.jsx)("a",{href:"https://www.buymeacoffee.com/iqiafan",children:n})})]}),(0,r.jsx)("div",{className:"mt-16 sm:mt-20",children:s})]})}},3997:function(e,t,n){"use strict";function r(e){return new Date(`${e}`).toLocaleDateString("zh-CN",{day:"numeric",month:"long",year:"numeric",timeZone:"Asia/Shanghai"})}n.d(t,{p:function(){return r}})},9009:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return x},default:function(){return w},getNewPosts:function(){return y},getPosts:function(){return T}});var r=n(5893),o=n(9008),s=n.n(o),i=n(5834),l=n(9659),a=n(3997),c=n(7294),u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d={Pixel:"Pixel",Percent:"Percent"},p={unit:d.Percent,value:.8};function f(e){return"number"==typeof e?{unit:d.Percent,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:d.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:d.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),p):(console.warn("scrollThreshold should be string or number"),p)}var m=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"==typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){!n.lastScrollTop&&(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||!n._infScroll||(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(e){"function"==typeof n.props.onScroll&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(e)},0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=(function(e,t,n,r){var o,s=!1,i=0;function l(){o&&clearTimeout(o)}function a(){var a=this,c=Date.now()-i,u=arguments;function h(){i=Date.now(),n.apply(a,u)}s||(r&&!o&&h(),l(),void 0===r&&c>e?h():!0!==t&&(o=setTimeout(r?function(){o=void 0}:h,void 0===r?e-c:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),a.cancel=function(){l(),s=!0},a})(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return!function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if(void 0===this.props.dataLength)throw Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?h(h({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=f(t);return r.unit===d.Pixel?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=f(t);return r.unit===d.Pixel?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=h({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return c.createElement("div",{style:r,className:"infinite-scroll-component__outerdiv"},c.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&c.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},c.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(c.Component),v=n(3454);function g(e){let{post:t}=e;return(0,r.jsxs)("article",{className:"md:grid md:grid-cols-4 md:items-baseline",children:[(0,r.jsxs)(i.Z,{className:"md:col-span-3",children:[" "," ",(0,r.jsx)(i.Z.Title,{href:`/articles/${t.title_en}`,children:t.title_cn})," "," ",(0,r.jsx)(i.Z.Eyebrow,{as:"time",dateTime:t.created_at,className:"md:hidden",decorate:!0,children:(0,a.p)(t.created_at)})," "," ",(0,r.jsx)(i.Z.Description,{children:t.description_cn})," "," ",(0,r.jsx)(i.Z.Cta,{children:"Read article"})," "]})," "," ",(0,r.jsx)(i.Z.Eyebrow,{as:"time",dateTime:t.created_at,className:"mt-1 hidden md:block",children:(0,a.p)(t.created_at)})]})}var x=!0;function w(e){let{data:t,api_server:n}=e,[o,i]=(0,c.useState)(t),[a,u]=(0,c.useState)(!0),h=async()=>{let e=await y(n,o.length);i(t=>[...t,...e])};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"新闻 - iQiaFAN"}),(0,r.jsx)("meta",{name:"description",content:"我叫i恰饭，第一时间提供国外游戏资讯～"})]})," "," ",(0,r.jsx)(l.X,{title:"支持夜间模式哦～\uD83D\uDC7B",intro:"美式一杯，幸福美满☕,（我也想喝）",children:(0,r.jsxs)("div",{className:"md:border-l md:border-zinc-100 md:pl-6 md:dark:border-zinc-700/40",children:[" ",(0,r.jsx)(m,{dataLength:o.length,next:h,hasMore:a,loader:(0,r.jsx)("h3",{}),endMessage:(0,r.jsx)("h4",{children:"Nothing more to show"}),className:"flex max-w-3xl flex-col space-y-16",style:{overflow:"visible"},children:o.map((e,t)=>(0,r.jsx)(g,{post:e},t))})," "]})})]})}async function y(e,t){let n=await fetch(`${e}/posts_infinity?start=${t}&limit=10`),r=await n.json();return r}async function T(){let e=await fetch(`${v.env.API_HOST}/posts_infinity?limit=10`),t=await e.json();return t}},7663:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(r){n=i}}();var a=[],c=!1,u=-1;function h(){c&&r&&(c=!1,r.length?a=r.concat(a):u=-1,a.length&&d())}function d(){if(!c){var e=l(h);c=!0;for(var t=a.length;t;){for(r=a,a=[];++u<t;)r&&r[u].run();u=-1,t=a.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(r){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new p(e,t)),1!==a.length||c||l(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=f,o.addListener=f,o.once=f,o.off=f,o.removeListener=f,o.removeAllListeners=f,o.emit=f,o.prependListener=f,o.prependOnceListener=f,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}},i=!0;try{t[e](s,s.exports,r),i=!1}finally{i&&delete n[e]}return s.exports}r.ab="//";var o=r(229);e.exports=o}()},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=81)}),_N_E=e.O()}]);